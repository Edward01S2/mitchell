{"version":3,"sources":["webpack:///./resources/js/app.js","webpack:///external \"jQuery\""],"names":["Swiper","$","slidesPerView","grabCursor","freeMode","freeModeSticky","slidesOffsetAfter","spaceBetween","navigation","nextEl","prevEl","breakpoints","640","1024","tribe_events_calendar_ajax_post","debounce","url","location","args","filter","vals","name","window","event","console","time","getUrlParameter","label","issue","type","ajax_url","data","action","page","beforeSend","complete","success","response","parseInt","scrollTop","top","error","JSON","load_posts","sParam","sURLVariables","sPageURL","i","sParameterName","decodeURIComponent","searchParams","URLSearchParams","module","exports"],"mappings":"uKASAA,QAAW,CAAXA,MAEAC,mBAAkB,WAEE,IAAI,EAAJ,gBAA0B,CAC1CC,cAD0C,OAE1CC,YAF0C,EAG1CC,UAH0C,EAI1CC,gBAJ0C,EAK1CC,kBAL0C,GAM1CC,aAN0C,GAO1CC,WAAY,CACVC,OADU,gBAEVC,OAAQ,iBAEVC,YAAa,CACXC,IAAK,CACHL,aADG,GAEHD,kBAAmB,IAErBO,KAAO,CACLN,aADK,GAELD,kBAAmB,OAKzB,mBAAYQ,iCACVA,kCAGFb,mEAAoEc,SAEpE,WACE,IAAIC,EAAMC,uBAA2BA,SAA3BA,KAA2CA,SAArD,SACAC,EADA,GAGAF,EAAMA,iBAJc,GAQpBf,mCAAkC,WAGhC,IAAIkB,EAASlB,aAAb,UACImB,EAJsC,GAS1CnB,oCAAmC,WAGjCmB,OAAWnB,QAAXmB,UAMFF,KAAiBE,OAlByB,QA0B1CJ,GAlCkB,IAqClBf,UAAa,cACX,IACEe,GAAOK,QAAPL,QAKJA,EAAMA,WA5CY,GAiDrBM,6BAnDDrB,OAsDAA,mEAAoEc,SAEpE,WACE,IAAIC,EAAMC,uBAA2BA,SAA3BA,KAA2CA,SAArD,SACAC,EAFsB,GAKtBjB,mCAAkC,WAGhC,IAAIkB,EAASlB,aAAb,UACImB,EAJsC,GAS1CnB,oCAAmC,WAGjCmB,OAAWnB,QAAXmB,UAMFF,KAAiBE,OAlByB,QA2B1CJ,GAhCoB,IAmCpBf,UAAa,cACX,IACEe,GAAOK,QAAPL,QAKJA,EAAMA,WA1Cc,GA+CtBM,6BAjDFrB,OAsDAA,uDAAyD,YACzDsB,mBACAC,4BAQA,YAGE,IAAIC,EAAOC,EAAX,QACIC,EAAQD,EAAZ,WACIE,EAAQF,EALY,WAQxBzB,OAAO,CACL4B,KADK,OAELb,IAAKc,SAFA,SAGLC,KAAM,CACJC,OADI,cAEJC,KAFI,EAGJR,KAHI,EAIJE,MAJI,EAKJC,MALI,GAQNM,WAAY,aAIZC,SAAU,aAGVC,QAAS,YAEP,KAAa,CAEXnC,8BAA8BoC,iBAE9B,IAAIJ,EAAOK,SAASD,aACpBb,eACGS,KAAH,OAAeA,IACbhC,wDAAyDgC,EAAzDhC,GACAA,wDAAyDgC,EAAzDhC,GACAA,+CAEF,GAAGgC,GACDhC,8CAEF,OAAGgC,GACDhC,8CAGFA,uBAAuB,CAACsC,UAAWtC,2BAA2BuC,KAA9DvC,QACAuB,eACAvB,6BAA8BqB,OAA9BrB,YAKJwC,MAAO,cACLjB,YAAYkB,eAAZlB,OA1DJmB,CAFW1C,aAJ8D,iBAqE3E,IAAIyB,EAAkB,SAAyBkB,GAC7C,QACIC,EADWvB,iCAAf,GACoBwB,MADpB,KAKA,IAAKC,EAAL,EAAYA,EAAIF,EAAhB,OAAsCE,IAGlC,IAFAC,EAAiBH,WAAjBG,MAEIA,KAAJ,EACI,YAAO,QAAOA,EAAP,KAAgDC,mBAAmBD,EAA1E,IAGR,UAGF/C,yDAA2D,YAC3DsB,mBACAC,kCAEE,IAAIL,EAASlB,aAAb,eACIiD,EAAe,IAAIC,gBAAgB7B,gBALoC,QAQ3E4B,aAR2E,GAkB3E,IAAIlC,EAAMC,uBAA2BA,SAA3BA,KAA2CA,SAA3CA,aAAqEiC,EAlBJ,WAsB3E5B,kC,+DC/PJ8B,EAAOC,QAAU/B,OAAe,S","file":"/js/app.js","sourcesContent":["/**\n * External Dependencies\n */\nimport 'jquery';\nimport 'alpinejs';\nimport 'lity';\nimport { debounce } from 'underscore';\nimport Swiper, { Navigation } from 'swiper';\n\nSwiper.use([Navigation]);\n\n$(document).ready(() => {\n  // console.log('Hello world');\n  const taxSwiper = new Swiper('.tax-slider', {\n    slidesPerView: 'auto',\n    grabCursor: true,\n    freeMode: true,\n    freeModeSticky: true,\n    slidesOffsetAfter: 48,\n    spaceBetween: 24,\n    navigation: {\n      nextEl: '.tax-btn-next',\n      prevEl: '.tax-btn-prev',\n    },\n    breakpoints: {\n      640: {\n        spaceBetween: 32,\n        slidesOffsetAfter: 64,\n      },\n      1024:  {\n        spaceBetween: 48,\n        slidesOffsetAfter: 48,\n      }\n    }\n  });\n\n  if ( typeof tribe_events_calendar_ajax_post == 'function' ) {\n    tribe_events_calendar_ajax_post();\n  }\n\n  $('.query-filters .filters').on('change', 'input[type=\"checkbox\"]', debounce(tagFilters, 1250));\n\n  function tagFilters() {\n    var url = location.protocol + '//' + location.host + location.pathname,\n    args = {};\n\n    url = url.split('page/')[0];\n    \n  \n    // loop over filters\n    $('.query-filters .filters').each(function(){\n      \n      // vars\n      var filter = $(this).data('filter');\n      var vals = [];\n\n      //console.log(filter)\n        \n      // find checked inputs\n      $(this).find('input:checked').each(function(){\n        \n        //console.log($(this).val())\n        vals.push( $(this).val() );\n      });\n      \n      //console.log(vals)\n      \n      // append to args\n      args[ filter ] = vals.join(',');\n      //console.log(args)\n    });\n\n    //console.log(args)\n\n    //if(args[ filter ] !== \"\") {\n      // update url\n      url += '?';\n\n      // loop over args\n      $.each(args, function( name, value ){\n        if(value) {\n          url += name + '=' + value + '&';\n        }\n      });\n\n      // remove last &\n      url = url.slice(0, -1);\n    \n\n    //console.log(url)\n    // reload page\n   window.location.replace( url );\n  }\n\n  $('.event-filters .filters').on('change', 'input[type=\"checkbox\"]', debounce(eventFilters, 1250));\n\n  function eventFilters() {\n    var url = location.protocol + '//' + location.host + location.pathname,\n    args = {};\n  \n    // loop over filters\n    $('.event-filters .filters').each(function(){\n      \n      // vars\n      var filter = $(this).data('filter');\n      var vals = [];\n\n      //console.log(filter)\n        \n      // find checked inputs\n      $(this).find('input:checked').each(function(){\n        \n        //console.log($(this).val())\n        vals.push( $(this).val() );\n      });\n      \n      //console.log(vals)\n      \n      // append to args\n      args[ filter ] = vals.join(',');\n      //console.log(args)\n    });\n\n    //console.log(args)\n\n    //if(args[ filter ] !== \"\") {\n      // update url\n\n      url += '?';\n\n      // loop over args\n      $.each(args, function( name, value ){\n        if(value) {\n          url += name + '=' + value + '&';\n        }\n      });\n\n      // remove last &\n      url = url.slice(0, -1);\n    \n\n    //console.log(url)\n    // reload page\n    window.location.replace( url );\n  }\n\n  \n\n  $(document).on( 'click', '.pagination-container button', function( event ) {\n\t\tevent.preventDefault();\n\t\tconsole.log( 'Clicked Link' );\n\n    var page = $(this).attr(\"data-page\");\n    //console.log('Data page:' + page);\n    load_posts(page);\n\t})\n\n  \n  function load_posts(page) {\n\n\n    var time = getUrlParameter('time');\n    var label = getUrlParameter('evlabel');\n    var issue = getUrlParameter('evissue');\n    //console.log(time);\n\n    $.ajax({\n      type: \"POST\",\n      url: ajax_url.ajax_url,\n      data: {\n        action: \"load_events\",\n        page: page,\n        time: time,\n        label: label,\n        issue: issue,\n        //cat: $(this).val()\n      },\n      beforeSend: function() {\n        // $(\"#course-grid-container\").html(\" \");\n        // $(\"#loading-anim\").show();\n      },\n      complete: function() {\n        // $(\"#loading-anim\").hide();\n      },\n      success: function(response) {\n        //console.log(JSON.stringify(response));\n        if(response) { \n          \n          $('.posts-ajax-wrapper').html(response.data['response']);\n\n          var page = parseInt(response.data['page']);\n          console.log(page)\n          if(page > 1 && page !== 9999) {\n            $('.pagination-container #event-prev').attr(\"data-page\", page + 1);\n            $('.pagination-container #event-next').attr(\"data-page\", page - 1);\n            $('.pagination-container #event-next').show();\n          }\n          if(page == 1) {\n            $('.pagination-container #event-next').hide();\n          }\n          if(page === 9999) {\n            $('.pagination-container #event-prev').hide();\n          }\n\n          $('html,body').animate({scrollTop: $(\"#event-title\").offset().top},'slow');\n          console.log(page)\n          $('#event-prev').data(\"page\", window.ajaxPage);\n\n        }\n\n      },\n      error: function(req, e) {\n        console.log(JSON.stringify(req));\n      }\n    })\n  }\n\n  var getUrlParameter = function getUrlParameter(sParam) {\n    var sPageURL = window.location.search.substring(1),\n        sURLVariables = sPageURL.split('&'),\n        sParameterName,\n        i;\n\n    for (i = 0; i < sURLVariables.length; i++) {\n        sParameterName = sURLVariables[i].split('=');\n\n        if (sParameterName[0] === sParam) {\n            return typeof sParameterName[1] === undefined ? true : decodeURIComponent(sParameterName[1]);\n        }\n    }\n    return false;\n  };\n\n  $(document).on( 'click', '.event-filters .event-time-btn', function( event ) {\n\t\tevent.preventDefault();\n\t\tconsole.log( 'Clicked event-time' );\n\n    var filter = $(this).attr(\"data-filter\");\n    var searchParams = new URLSearchParams(window.location.search);\n    //console.log(params);\n\n    searchParams.set('time', filter);\n\n    //console.log(searchParams.toString());\n    // if(searchParams) {\n    //   var url = window.location.href + '&' + searchParams.toString();\n    // }\n    // else {\n    //   var url = location.protocol + '//' + location.host + location.pathname + '?' + searchParams.toString();\n    // }\n\n    var url = location.protocol + '//' + location.host + location.pathname + '?' + searchParams.toString();\n\n    \n    //console.log(url)\n    window.location.replace( url );\n  });\n\n});\n","module.exports = window[\"jQuery\"];"],"sourceRoot":""}