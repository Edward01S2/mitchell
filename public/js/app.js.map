{"version":3,"sources":["webpack:///./resources/js/app.js","webpack:///external \"jQuery\""],"names":["Swiper","$","slidesPerView","grabCursor","freeMode","freeModeSticky","slidesOffsetAfter","spaceBetween","navigation","nextEl","prevEl","breakpoints","640","1024","tribe_events_calendar_ajax_post","debounce","url","location","args","filter","vals","name","window","event","console","type","ajax_url","data","action","page","beforeSend","complete","success","response","parseInt","scrollTop","top","error","JSON","load_posts","module","exports"],"mappings":"qJASAA,QAAW,CAAXA,MAEAC,mBAAkB,WAEE,IAAI,EAAJ,gBAA0B,CAC1CC,cAD0C,OAE1CC,YAF0C,EAG1CC,UAH0C,EAI1CC,gBAJ0C,EAK1CC,kBAL0C,GAM1CC,aAN0C,GAO1CC,WAAY,CACVC,OADU,gBAEVC,OAAQ,iBAEVC,YAAa,CACXC,IAAK,CACHL,aADG,GAEHD,kBAAmB,IAErBO,KAAO,CACLN,aADK,GAELD,kBAAmB,OAKzB,mBAAYQ,iCACVA,kCAGFb,mEAAoEc,SAEpE,WACE,IAAIC,EAAMC,uBAA2BA,SAA3BA,KAA2CA,SAArD,SACAC,EADA,GAGAF,EAAMA,iBAJc,GAQpBf,mCAAkC,WAGhC,IAAIkB,EAASlB,aAAb,UACImB,EAJsC,GAS1CnB,oCAAmC,WAGjCmB,OAAWnB,QAAXmB,UAMFF,KAAiBE,OAlByB,QA0B1CJ,GAlCkB,IAqClBf,UAAa,cACX,IACEe,GAAOK,QAAPL,QAKJA,EAAMA,WA5CY,GAiDrBM,6BAnDDrB,OAwDAA,uDAAyD,YACzDsB,mBACAC,4BAiBA,YAYEvB,OAAO,CACLwB,KADK,OAELT,IAAKU,SAFA,SAGLC,KAAM,CACJC,OADI,cAEJC,KAFI,GAKNC,WAAY,aAIZC,SAAU,aAGVC,QAAS,YAEP,KAAa,CACX/B,8BAA8BgC,iBAE9B,IAAIJ,EAAOK,SAASD,aACpBT,eACGK,KAAH,OAAeA,IACb5B,wDAAyD4B,EAAzD5B,GACAA,wDAAyD4B,EAAzD5B,GACAA,+CAEF,GAAG4B,GACD5B,8CAEF,OAAG4B,GACD5B,8CAGFA,uBAAuB,CAACkC,UAAWlC,2BAA2BmC,KAjBnD,UAwBfC,MAAO,cACLb,YAAYc,eAAZd,OAnEJe,CAFWtC,aAJ8D,qB,+DChG7EuC,EAAOC,QAAUnB,OAAe,S","file":"/js/app.js","sourcesContent":["/**\n * External Dependencies\n */\nimport 'jquery';\nimport 'alpinejs';\nimport 'lity';\nimport { debounce } from 'underscore';\nimport Swiper, { Navigation } from 'swiper';\n\nSwiper.use([Navigation]);\n\n$(document).ready(() => {\n  // console.log('Hello world');\n  const taxSwiper = new Swiper('.tax-slider', {\n    slidesPerView: 'auto',\n    grabCursor: true,\n    freeMode: true,\n    freeModeSticky: true,\n    slidesOffsetAfter: 48,\n    spaceBetween: 24,\n    navigation: {\n      nextEl: '.tax-btn-next',\n      prevEl: '.tax-btn-prev',\n    },\n    breakpoints: {\n      640: {\n        spaceBetween: 32,\n        slidesOffsetAfter: 64,\n      },\n      1024:  {\n        spaceBetween: 48,\n        slidesOffsetAfter: 48,\n      }\n    }\n  });\n\n  if ( typeof tribe_events_calendar_ajax_post == 'function' ) {\n    tribe_events_calendar_ajax_post();\n  }\n\n  $('.query-filters .filters').on('change', 'input[type=\"checkbox\"]', debounce(tagFilters, 1250));\n\n  function tagFilters() {\n    var url = location.protocol + '//' + location.host + location.pathname,\n    args = {};\n\n    url = url.split('page/')[0];\n    \n  \n    // loop over filters\n    $('.query-filters .filters').each(function(){\n      \n      // vars\n      var filter = $(this).data('filter');\n      var vals = [];\n\n      //console.log(filter)\n        \n      // find checked inputs\n      $(this).find('input:checked').each(function(){\n        \n        //console.log($(this).val())\n        vals.push( $(this).val() );\n      });\n      \n      //console.log(vals)\n      \n      // append to args\n      args[ filter ] = vals.join(',');\n      //console.log(args)\n    });\n\n    //console.log(args)\n\n    //if(args[ filter ] !== \"\") {\n      // update url\n      url += '?';\n\n      // loop over args\n      $.each(args, function( name, value ){\n        if(value) {\n          url += name + '=' + value + '&';\n        }\n      });\n\n      // remove last &\n      url = url.slice(0, -1);\n    \n\n    //console.log(url)\n    // reload page\n   window.location.replace( url );\n  }\n\n  var ajaxPage = 1;\n\n  $(document).on( 'click', '.pagination-container button', function( event ) {\n\t\tevent.preventDefault();\n\t\tconsole.log( 'Clicked Link' );\n\n    var page = $(this).attr(\"data-page\");\n    //console.log('Data page:' + page);\n    load_posts(page);\n\t})\n\n  // $(document).on( 'click', '.pagination-container #event-next', function( event ) {\n\t// \tevent.preventDefault();\n\t// \tconsole.log( 'Clicked Link' );\n\n  //   var page = $('.pagination-container #event-next').attr(\"data-page\");\n  //   console.log('Data page:' + page);\n  //   load_posts(page);\n\t// })\n\n  \n  function load_posts(page) {\n\n    // var url = location.protocol + '//' + location.host + location.pathname;\n\n    // url += '?';\n    // url += 'page' + '=' + page + '&';\n\n    // url = url.slice(0, -1);\n\n    // window.location.replace( url );\n\n\n    $.ajax({\n      type: \"POST\",\n      url: ajax_url.ajax_url,\n      data: {\n        action: \"load_events\",\n        page: page,\n        //cat: $(this).val()\n      },\n      beforeSend: function() {\n        // $(\"#course-grid-container\").html(\" \");\n        // $(\"#loading-anim\").show();\n      },\n      complete: function() {\n        // $(\"#loading-anim\").hide();\n      },\n      success: function(response) {\n        //console.log(JSON.stringify(response));\n        if(response) { \n          $('.posts-ajax-wrapper').html(response.data['response']);\n\n          var page = parseInt(response.data['page']);\n          console.log(page)\n          if(page > 1 && page !== 9999) {\n            $('.pagination-container #event-prev').attr(\"data-page\", page + 1);\n            $('.pagination-container #event-next').attr(\"data-page\", page - 1);\n            $('.pagination-container #event-next').show();\n          }\n          if(page == 1) {\n            $('.pagination-container #event-next').hide();\n          }\n          if(page === 9999) {\n            $('.pagination-container #event-prev').hide();\n          }\n\n          $('html,body').animate({scrollTop: $(\"#event-title\").offset().top},'slow');\n          //console.log(page)\n          // $('#event-prev').data(\"page\", window.ajaxPage);\n        }\n        // $(\"#course-grid-cat\").show();\n        // $(\"#course-grid-container\").append(data);\n      },\n      error: function(req, e) {\n        console.log(JSON.stringify(req));\n      }\n    })\n  }\n\n\n });\n","module.exports = window[\"jQuery\"];"],"sourceRoot":""}